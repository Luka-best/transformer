# UDOP

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุงูุชุฑุงุญ ูููุฐุฌ UDOP ูู [ุชูุญูุฏ ุงูุฑุคูุฉ ูุงููุต ูุงูุชุฎุทูุท ููุนุงูุฌุฉ ุงููุณุชูุฏุงุช ุงูุดุงููุฉ](https://arxiv.org/abs/2212.02623) ุจูุงุณุทุฉ Zineng Tang, Ziyi Yang, Guoxin Wang, Yuwei Fang, Yang Liu, Chenguang Zhu, Michael Zeng, Cha Zhang, Mohit Bansal.

ูุนุชูุฏ UDOP ุนูู ุจููุฉ Transformer ุงูุชุฑููุฒูุฉ ูู ุงูุชุฑููุฒ ุงููุณุชูุฏุฉ ุฅูู [T5](t5) ูููุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุณุชูุฏุงุช ูุซู ุชุตููู ุตูุฑ ุงููุณุชูุฏุงุชุ ูุชุญููู ุงููุณุชูุฏุงุชุ ูุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ ุงูุจุตุฑูุฉ ูููุณุชูุฏุงุช.

ููุฎุต ุงููุฑูุฉ ูู ูุง ููู:

ููุชุฑุญ ูุนุงูุฌุฉ ุงููุณุชูุฏุงุช ุงูุดุงููุฉ (UDOP)ุ ููู ูููุฐุฌ Document AI ุฃุณุงุณู ููุญุฏ ุฃูุถุงุน ุงููุต ูุงูุตูุฑุฉ ูุงูุชุฎุทูุท ูุนูุง ุจุชูุณููุงุช ููุงู ูุชููุนุฉุ ุจูุง ูู ุฐูู ููู ุงููุณุชูุฏุงุช ูุชูููุฏ ุงููุณุชูุฏุงุช. ูุณุชููุฏ UDOP ูู ุงูุงุฑุชุจุงุท ุงูููุงูู ุจูู ุงููุญุชูู ุงููุตู ูุตูุฑุฉ ุงููุณุชูุฏ ูููุฐุฌุฉ ุฃูุถุงุน ุงูุตูุฑุฉ ูุงููุต ูุงูุชุฎุทูุท ุจุงุณุชุฎุฏุงู ุชูุซูู ููุญุฏ. ุจุงุณุชุฎุฏุงู ูุญูู Vision-Text-Layout ุงููุจุชูุฑุ ููุญุฏ UDOP ุจูู ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ูููุงู ุงููุฌุงู ุงููุชุนุฏุฏ ูุฃุณูู ุงูุจููุฉ ุงููุณุชูุฏุฉ ุฅูู ุงูุชุณูุณู. ูุชู ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ูู UDOP ุนูู ูู ูู ูุฌููุนุงุช ุงูุจูุงูุงุช ุงููุซุงุฆููุฉ ูุงุณุนุฉ ุงููุทุงู ุบูุฑ ุงูููุณููุฉ ุจุงุณุชุฎุฏุงู ุฃูุฏุงู ุฐุงุชูุฉ ุงูุฅุดุฑุงู ูุจุชูุฑุฉ ูุจูุงูุงุช ููุณููุฉ ูุชููุนุฉ. ูุชุนูู UDOP ุฃูุถูุง ุฅูุดุงุก ุตูุฑ ุงููุณุชูุฏุงุช ูู ุฃูุถุงุน ุงููุต ูุงูุชุฎุทูุท ุนุจุฑ ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑุฉ ุงููููุนุฉ. ุนูู ุญุฏ ุนูููุงุ ูุฐู ูู ุงููุฑุฉ ุงูุฃููู ูู ูุฌุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุณุชูุฏุงุช ุงูุชู ูุญูู ูููุง ูููุฐุฌ ูุงุญุฏ ูู ููุณ ุงูููุช ุชุญุฑูุฑ ุงููุณุชูุฏุงุช ุงูุนุตุจูุฉ ูุชุฎุตูุต ุงููุญุชูู ุจุฌูุฏุฉ ุนุงููุฉ. ุชุญุฏุฏ ุทุฑููุชูุง ุงูุญุงูุฉ ุงูุฑุงููุฉ ูู 9 ููุงู AI ูููุณุชูุฏุงุชุ ุนูู ุณุจูู ุงููุซุงู ููู ุงููุณุชูุฏุงุช ูุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉุ ุนุจุฑ ูุฌุงูุงุช ุงูุจูุงูุงุช ุงููุชููุนุฉ ูุซู ุชูุงุฑูุฑ ุงูุชูููู ูุงูุฃูุฑุงู ุงูุฃูุงุฏูููุฉ ูุงูููุงูุน ุงูุฅููุชุฑูููุฉ. ูุญุชู UDOP ุงููุฑุชุจุฉ ุงูุฃููู ูู ููุญุฉ ุงูููุงุฏุฉ ุงูุฎุงุตุฉ ุจูุนูุงุฑ ููู ุงููุณุชูุฏุงุช (DUE).

<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/transformers/model_doc/udop_architecture.jpg" alt="drawing" width="600"/>

<small> ููุฏุณุฉ UDOP. ูุฃุฎูุฐุฉ ูู <a href="https://arxiv.org/abs/2212.02623">ุงููุฑูุฉ ุงูุฃุตููุฉ.</a> </small>

## ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู

- ุจุงูุฅุถุงูุฉ ุฅูู *input_ids*ุ ูุชููุน [`UdopForConditionalGeneration`] ุฃูุถูุง ุฅุฏุฎุงู `bbox`ุ ููู ุนุจุงุฑุฉ ุนู ุตูุงุฏูู ุญุฏูุฏ (ุฃู ููุงุถุน ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ) ููุฑููุฒ ุงููููุฒุฉ ููุฅุฏุฎุงู. ูููู ุงูุญุตูู ุนูู ูุฐู ุจุงุณุชุฎุฏุงู ูุญุฑู OCR ุฎุงุฑุฌู ูุซู [Tesseract](https://github.com/tesseract-ocr/tesseract) ูู Google (ูุชููุฑ [ุบูุงู Python](https://pypi.org/project/pytesseract/)). ูุฌุจ ุฃู ูููู ูู ุตูุฏูู ุญุฏ ูู ุชูุณูู (x0ุ y0ุ x1ุ y1)ุ ุญูุซ ูุชูุงูู (x0ุ y0) ูุน ููุถุน ุงูุฑูู ุงูุนููู ุงูุฃูุณุฑ ูู ุตูุฏูู ุงูุญุฏุ ูููุซู (x1ุ y1) ููุถุน ุงูุฑูู ุงูุณููู ุงูุฃููู. ูุงุญุธ ุฃูู ูุฌุจ ุนููู ุฃููุงู ุชุทุจูุน ุตูุงุฏูู ุงูุญุฏูุฏ ูุชููู ุนูู ูููุงุณ 0-1000. ูุชุทุจูุนุ ููููู ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ ุงูุชุงููุฉ:

```python
def normalize_bbox(bbox, width, height):
    return [
    int(1000 * (bbox[0] / width)),
    int(1000 * (bbox[1] / height)),
    int(1000 * (bbox[2] / width)),
    int(1000 * (bbox[3] / height)),
    ]
```

ููุงุ `width` ู`height` ููุงุจูุงู ุนุฑุถ ูุงุฑุชูุงุน ุงููุณุชูุฏ ุงูุฃุตูู ุงูุฐู ูุญุฏุซ ููู ุงูุฑูุฒ ุงููููุฒ. ูููู ุงูุญุตูู ุนูู ุชูู ุจุงุณุชุฎุฏุงู ููุชุจุฉ Python Image Library (PIL)ุ ุนูู ุณุจูู ุงููุซุงูุ ููุง ููู:

```python
from PIL import Image

# ูููู ุฃู ุชููู ุงููุซููุฉ png ุฃู jpgุ ุฅูุฎ. ูุฌุจ ุชุญููู ูููุงุช PDF ุฅูู ุตูุฑ.
image = Image.open(name_of_your_document).convert("RGB")

width, height = image.size
```

ููููู ุงุณุชุฎุฏุงู [`UdopProcessor`] ูุชุญุถูุฑ ุงูุตูุฑ ูุงููุต ูููููุฐุฌุ ูุงูุฐู ูุชููู ูู ุฐูู. ุจุดูู ุงูุชุฑุงุถูุ ุชุณุชุฎุฏู ูุฐู ุงููุฆุฉ ูุญุฑู Tesseract ูุงุณุชุฎุฑุงุฌ ูุงุฆูุฉ ุจุงููููุงุช ูุงูุตูุงุฏูู (ุงูุฅุญุฏุงุซูุงุช) ูู ูุณุชูุฏ ูุนูู. ูุธููุชูุง ููุงูุฆุฉ ูุชูู ุงูููุฌูุฏุฉ ูู [`LayoutLMv3Processor`]ุ ูุจุงูุชุงูู ููู ุชุฏุนู ุชูุฑูุฑ ุฅูุง `apply_ocr=False` ูู ุญุงูุฉ ุชูุถููู ูุงุณุชุฎุฏุงู ูุญุฑู OCR ุงูุฎุงุต ุจู ุฃู `apply_ocr=true` ูู ุญุงูุฉ ุฑุบุจุชู ูู ุงุณุชุฎุฏุงู ูุญุฑู OCR ุงูุงูุชุฑุงุถู. ุฑุงุฌุน ุฏููู ุงูุงุณุชุฎุฏุงู ูู [LayoutLMv2](layoutlmv2#usage-layoutlmv2processor) ูููุง ูุชุนูู ุจุฌููุน ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูููููุฉ (ุชููู ูุธููุฉ `UdopProcessor` ูุชุทุงุจูุฉ).

- ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุญุฑู OCR ุงูุฎุงุต ุจูุ ูุฅู ุฅุญุฏู ุงูุชูุตูุงุช ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงููุฑุงุกุฉ ูู Azure [Read API](https://learn.microsoft.com/en-us/azure/ai-services/computer-vision/how-to/call-read-api)ุ ูุงูุชู ุชุฏุนู ูุง ูุณูู ุจูุทุงุนุงุช ุงูุฎุทูุท. ูุคุฏู ุงุณุชุฎุฏุงู ุชุถูููุงุช ููุถุน ุงููุทุงุน ุนุงุฏุฉู ุฅูู ุฃุฏุงุก ุฃูุถู.
- ุฃุซูุงุก ุงูุงุณุชุฏูุงูุ ููุตู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ `generate` ูุชูููุฏ ุงููุต ุชููุงุฆููุง ุจุงููุธุฑ ุฅูู ุตูุฑุฉ ุงููุณุชูุฏ.
- ุชู ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ูููููุฐุฌ ููู ูู ุงูุฃูุฏุงู ุงูุฎุงุถุนุฉ ููุฅุดุฑุงู ุงูุฐุงุชู. ููููู ุงุณุชุฎุฏุงู ุจุงุฏุฆุงุช ุงูููุงู ุงููุฎุชููุฉ (ุงููุทุงูุจุงุช) ุงููุณุชุฎุฏูุฉ ุฃุซูุงุก ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ูุงุฎุชุจุงุฑ ุงููุฏุฑุงุช ุงูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู. ุนูู ุณุจูู ุงููุซุงูุ ูููู ูุทุงูุจุฉ ุงููููุฐุฌ ุจู "ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ. ูุง ูู ุงูุชุงุฑูุฎุ"ุ ุญูุซ "ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ." ูู ุจุงุฏุฆุฉ ุงููููุฉ ุงููุณุชุฎุฏูุฉ ุฃุซูุงุก ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ูู DocVQA. ุฑุงุฌุน [ุงููุฑูุฉ](https://arxiv.org/abs/2212.02623) (ุงูุฌุฏูู 1) ูุฌููุน ุจุงุฏุฆุงุช ุงูููุงู.
- ููููู ุฃูุถูุง ุถุจุท [`UdopEncoderModel`]ุ ููู ุงูุฌุฒุก ุงูุชุฑููุฒ ููุท ูู UDOPุ ูุงูุฐู ูููู ุงุนุชุจุงุฑู ูุญูู ุชุฑููุฒ LayoutLMv3. ุจุงููุณุจุฉ ุฅูู ุงูููุงู ุงูุชูููุฒูุฉุ ููููู ุจุจุณุงุทุฉ ุฅุถุงูุฉ ูุตูู ุฎุทู ูู ุงูุฃุนูู ูุถุจุทู ุนูู ูุฌููุนุฉ ุจูุงูุงุช ููุณููุฉ.

ุชูุช ุงููุณุงููุฉ ุจูุฐุง ุงููููุฐุฌ ูู ูุจู [nielsr](https://huggingface.co/nielsr).

ูููู ุงูุนุซูุฑ ุนูู ุงูููุฏ ุงูุฃุตูู [ููุง](https://github.com/microsoft/UDOP).

## ุงูููุงุฑุฏ

ูุงุฆูุฉ ุจููุงุฑุฏ Hugging Face ุงูุฑุณููุฉ ูููุงุฑุฏ ุงููุฌุชูุน (ุงููุดุงุฑ ุฅูููุง ุจู ๐) ููุณุงุนุฏุชู ูู ุงูุจุฏุก ุจุงุณุชุฎุฏุงู UDOP. ุฅุฐุง ููุช ููุชููุง ุจุชูุฏูู ููุฑุฏ ูุฅุฏุฑุงุฌู ููุงุ ูุงูุฑุฌุงุก ูุชุญ ุทูุจ ุณุญุจ ูุณูููู ุจูุฑุงุฌุนุชู! ูุฌุจ ุฃู ููุถุญ ุงูููุฑุฏ ุงููุซุงูู ุดูุฆูุง ุฌุฏูุฏูุง ุจุฏูุงู ูู ุชูุฑุงุฑ ููุฑุฏ ููุฌูุฏ.

- ูููู ุงูุนุซูุฑ ุนูู ุฏูุงุชุฑ ุงูููุงุญุธุงุช ุงูุชูุถูุญูุฉ ุงููุชุนููุฉ ุจู UDOP [ููุง](https://github.com/NielsRogge/Transformers-Tutorials/tree/master/UDOP) ูุงูุชู ุชูุถุญ ููููุฉ ุถุจุท UDOP ุนูู ูุฌููุนุฉ ุจูุงูุงุช ูุฎุตุตุฉ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุงุณุชุฏูุงู. ๐
- [ุฏููู ููุงู ุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ ูููุณุชูุฏุงุช](../tasks/document_question_answering)

## UdopConfig

[[autodoc]] UdopConfig

## UdopTokenizer

[[autodoc]] UdopTokenizer

- build_inputs_with_special_tokens
- get_special_tokens_mask
- create_token_type_ids_from_sequences
- save_vocabulary

## UdopTokenizerFast

[[autodoc]] UdopTokenizerFast

## UdopProcessor

[[autodoc]] UdopProcessor

- __call__

## UdopModel

[[autodoc]] UdopModel

- forward

## UdopForConditionalGeneration

[[autodoc]] UdopForConditionalGeneration

- forward

## UdopEncoderModel

[[autodoc]] UdopEncoderModel

- forward