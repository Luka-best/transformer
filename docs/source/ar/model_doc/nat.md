# ูุญูู ุงูุงูุชุจุงู ุงููุฌุงูุฑ

<Tip warning={true}>  
ูุฐุง ุงููููุฐุฌ ูู ูุถุน ุงูุตูุงูุฉ ููุทุ ููุง ููุจู ุฃู ุทูุจุงุช ุณุญุจ ุฌุฏูุฏุฉ ูุชุบููุฑ ุดูุฑุชู.
ุฅุฐุง ูุงุฌูุชู ุฃู ูุดููุงุช ุฃุซูุงุก ุชุดุบูู ูุฐุง ุงููููุฐุฌุ ูุฑุฌู ุฅุนุงุฏุฉ ุชุซุจูุช ุงูุฅุตุฏุงุฑ ุงูุฃุฎูุฑ ุงูุฐู ูุฏุนู ูุฐุง ุงููููุฐุฌ: v4.40.2.
ููููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู: `pip install -U transformers==4.40.2`.  
</Tip>

## ูุธุฑุฉ ุนุงูุฉ

ุงูุชูุฑุญ NAT ูู [ูุญูู ุงูุงูุชุจุงู ุงููุฌุงูุฑ](https://arxiv.org/abs/2204.07143)
ูู ูุจู ุนูู ุญุณุงููุ ูุณุชููู ูุงูุชููุ ูุฌูุง ุชุดู ููุ ูุดูู ููุ ููุงููุฑู ุดู.
ุฅูู ูุญูู ุฑุคูุฉ ูุฑูู ูุนุชูุฏ ุนูู ุงูุชุจุงู ุงูุฌูุงุฑุ ููู ููุท ุงูุชุจุงู ุฐุงุชู ูููุงูุฐุฉ ุงูููุฒููุฉ.
ุงูููุชุทู ูู ุงููุฑูุฉ ูู ููุง ููู:

*ููุฏู Neighborhood Attention (NA)ุ ููู ุฃูู ุขููุฉ ุงูุชุจุงู ููุฒูู ูุนุงูุฉ ููุงุจูุฉ ููุชุทููุฑ ููุฑุคูุฉ.
NA ูู ุนูููุฉ ููู ุจูุณูุ ูุชุญุฏูุฏ ูููุน ุงูุงูุชูุงู ุงูุฐุงุชู (SA) ูุฃูุฑุจ ุจูุณูุงุช ูุฌุงูุฑุฉุ ูุจุงูุชุงูู ููู ูุชูุชุน
ุชุนููุฏ ุฎุทู ููููุช ูุงููุณุงุญุฉ ููุงุฑูุฉ ุจุงูุชุนููุฏ ุงูุชุฑุจูุนู ูู SA. ูุณูุญ ููุท ุงููุงูุฐุฉ ุงูููุฒููุฉ ููุฌุงู ุงุณุชูุจุงู NA
ุจุงูููู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุชุญููุงุช ุจูุณู ุฅุถุงููุฉุ ููุญุงูุธ ุนูู ุงูุชูุงูุค ุงูุชุฑุฌููุ ุนูู ุนูุณ
ูุญูู ูุงูุฐุฉ ุงูุงูุชูุงู ุงูุฐุงุชู (WSA) ูู ูุญูู Swin. ูููู ุจุชุทููุฑ NATTEN (Neighborhood Attention Extension)ุ ููู ุญุฒูุฉ Python
ูุน ููู C++ ู CUDA ูุนุงูุฉุ ูุงูุชู ุชุณูุญ ูู NA ุจุงูุนูู ุจุดูู ุฃุณุฑุน ุจูุณุจุฉ ุชุตู ุฅูู 40% ูู WSA ูู Swin ูุน ุงุณุชุฎุฏุงู ูุง ูุตู ุฅูู 25% ุฃูู
ุงูุฐุงูุฑุฉ. ููุฏู ุฃูุถูุง ูุญูู ุงูุงูุชุจุงู ุงููุฌุงูุฑ (NAT)ุ ููู ุชุตููู ูุญูู ูุฑูู ุฌุฏูุฏ ูุนุชูุฏ ุนูู NA
ุงูุชู ุชุนุฒุฒ ุฃุฏุงุก ุชุตููู ุงูุตูุฑ ูุงูุฑุคูุฉ ูุฃุณูู ุงูุจุฆุฑ. ุงููุชุงุฆุฌ ุงูุชุฌุฑูุจูุฉ ุนูู NAT ุชูุงูุณูุฉุ
ูุตู NAT-Tiny ุฅูู 83.2% ุฏูุฉ ุฃุนูู ุนูู ImageNetุ ู 51.4% mAP ุนูู MS-COCO ู 48.4% mIoU ุนูู ADE20Kุ ููู ูุง ููุซู 1.9%
ุชุญุณูู ุฏูุฉ ImageNetุ ู 1.0% mAP ูู COCOุ ู 2.6% mIoU ูู ADE20K ุนูู ูููุฐุฌ Swin ุจุญุฌู ููุงุซู. *

<img
src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/neighborhood-attention-pattern.jpg"
alt="drawing" width="600"/>

<small> ุงูุชุจุงู ุงูุฌูุงุฑ ููุงุฑูุฉ ุจุฃููุงุท ุงูุงูุชูุงู ุงูุฃุฎุฑู.
ูุฃุฎูุฐ ูู <a href="https://arxiv.org/abs/2204.07143">ุงููุฑูุฉ ุงูุฃุตููุฉ</a>.</small>

ุชูุช ุงููุณุงููุฉ ุจูุฐุง ุงููููุฐุฌ ูู ูุจู [ุนูู ุญุณุงูู](https://huggingface.co/alihassanijr).
ูููู ุงูุนุซูุฑ ุนูู ุงูููุฏ ุงูุฃุตูู [ููุง](https://github.com/SHI-Labs/Neighborhood-Attention-Transformer).

## ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู

- ูููู ูููุฑุก ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช [`AutoImageProcessor`] ูุชุญุถูุฑ ุงูุตูุฑ ูููููุฐุฌ.
- ูููู ุงุณุชุฎุฏุงู NAT ูู *ุนููุฏ ููุฑู*. ุนูุฏูุง `output_hidden_states = True`ุ
ุณูููู ุจุฅุฎุฑุงุฌ ูู ูู `hidden_states` ู `reshaped_hidden_states`.
ูููู ูู `reshaped_hidden_states` ุดูู `(batchุ num_channelsุ heightุ width)` ุจุฏูุงู ูู
`(batch_sizeุ heightุ widthุ num_channels)`.

ููุงุญุธุงุช:

- ูุนุชูุฏ NAT ุนูู ุชูููุฐ [NATTEN](https://github.com/SHI-Labs/NATTEN/) ูุงูุชุจุงู ุงูุฌูุงุฑ.
ููููู ุชุซุจูุชู ุจุนุฌูุงุช ูุณุจูุฉ ุงูุจูุงุก ููุธุงู Linux ุนู ุทุฑูู ุงูุฑุฌูุน ุฅูู [shi-labs.com/natten](https://shi-labs.com/natten)ุ
ุฃู ูู ุจุงูุจูุงุก ุนูู ูุธุงูู ุนู ุทุฑูู ุชุดุบูู `pip install natten`.
ูุฑุฌู ููุงุญุธุฉ ุฃู ูุฐุง ุงูุฃุฎูุฑ ุณูุณุชุบุฑู ููุชูุง ุทูููุงู ูุชุฌููุน NATTEN. ูุง ุชุฏุนู NATTEN ุฃุฌูุฒุฉ Windows ุจุนุฏ.
- ุญุฌู ุงูุชุตุญูุญ 4 ูู ุงููุญูุฏ ุงููุฏุนูู ูู ุงูููุช ุงูุญุงูู.

## ุงูููุงุฑุฏ

ูุงุฆูุฉ ุจููุงุฑุฏ Hugging Face ุงูุฑุณููุฉ ูููุงุฑุฏ ุงููุฌุชูุน (ูุดุงุฑ ุฅูููุง ุจุฑูุฒ ๐) ููุณุงุนุฏุชู ูู ุงูุจุฏุก ุจุงุณุชุฎุฏุงู NAT.

<PipelineTag pipeline="image-classification"/>

- ูุฏุนูู ูู [`NatForImageClassification`] ุจูุงุณุทุฉ [ูุต ุจุฑูุฌู ุชูุถูุญู](https://github.com/huggingface/transformers/tree/main/examples/pytorch/image-classification) ู [ุฏูุชุฑ ุงูููุงุญุธุงุช](https://colab.research.google.com/github/huggingface/notebooks/blob/main/examples/image_classification.ipynb).
- ุฑุงุฌุน ุฃูุถูุง: [ุฏููู ููุงู ุชุตููู ุงูุตูุฑ](../tasks/image_classification)

ุฅุฐุง ููุช ููุชููุง ุจุชูุฏูู ููุฑุฏ ูุฅุฏุฑุงุฌู ููุงุ ูุงูุฑุฌุงุก ูุชุญ ุทูุจ ุณุญุจ ูุณูุฑุงุฌุนู! ูุฌุจ ุฃู ููุถุญ ุงูููุฑุฏ ุจุดูู ูุซุงูู ุดูุก ุฌุฏูุฏ ุจุฏูุงู ูู ุชูุฑุงุฑ ููุฑุฏ ููุฌูุฏ.

## NatConfig

[[autodoc]] NatConfig

## NatModel

[[autodoc]] NatModel

- forward

## NatForImageClassification

[[autodoc]] NatForImageClassification

- forward